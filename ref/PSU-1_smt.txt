; Simplified SMT model for DemoWorkflow power supply PSU-1
(set-logic QF_NRA)

; Output terminals (electric)
(declare-fun PSU-1.Vout.P.i () Real)
(declare-fun PSU-1.Vout.P.u () Real)
(declare-fun PSU-1.Vout.N.i () Real)
(declare-fun PSU-1.Vout.N.u () Real)

; Internal quantities
(declare-fun PSU-1.outputVoltage () Real)
(declare-fun PSU-1.outputCurrent () Real)
(declare-fun PSU-1.nominalVoltage () Real)
(declare-fun PSU-1.sourceResistance () Real)

; Parameter domains
(assert (> PSU-1.nominalVoltage 0.0))
(assert (>= PSU-1.sourceResistance 0.1))
(assert (<= PSU-1.sourceResistance 1.0))

; Define operating relationships
(assert (= PSU-1.outputVoltage PSU-1.nominalVoltage))
(assert (= PSU-1.outputCurrent PSU-1.Vout.P.i))
(assert (= PSU-1.Vout.N.i (* -1 PSU-1.outputCurrent)))

; Voltage drop across internal source resistance
(assert (= PSU-1.Vout.P.u (+ PSU-1.Vout.N.u PSU-1.outputVoltage)))
(assert (= PSU-1.outputVoltage (+ (* (- PSU-1.sourceResistance) PSU-1.outputCurrent) PSU-1.nominalVoltage)))

; Keep negative terminal near ground reference
(assert (= PSU-1.Vout.N.u 0.0))
